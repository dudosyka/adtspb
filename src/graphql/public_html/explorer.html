<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8">
        <title>GraphIQL</title>
        <link href="https://unpkg.com/graphiql/graphiql.min.css" rel="stylesheet" />
    </head>
    <body style="margin: 0;">
    <div id="graphiql" style="height: 100vh;"></div>

    <script
            crossorigin
            src="https://unpkg.com/react/umd/react.production.min.js"
    ></script>
    <script
            crossorigin
            src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"
    ></script>
    <script
            crossorigin
            src="https://unpkg.com/graphiql/graphiql.min.js"
    ></script>

    <script>
        const graphQLFetcher = graphQLParams =>
            fetch('/api.php', {
                method: 'post',
                headers: {
                    'Content-Type': 'application/json',
                    // "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIiwianRpIjoidWlkOCJ9.eyJpc3MiOiJodHRwOlwvXC9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHA6XC9cL2xvY2FsaG9zdDo4MDgwIiwianRpIjoidWlkOCIsImlhdCI6MTU4Nzc2NjgzOCwibmJmIjoxNTg3NzcwNDM4LCJleHAiOjE1ODc4NTMyMzgsInVpZCI6OH0."
                },
                body: JSON.stringify(graphQLParams),
            })
                .then(response => response.json())
                .catch(() => response.text());
        ReactDOM.render(
            React.createElement(GraphiQL, { fetcher: graphQLFetcher }),
            document.getElementById('graphiql'),
        );
    </script>
    </body>
</html>